/**
 * Editor Theme Fix
 * Ensures editor components respond to theme changes properly
 */

/* Light theme values for editor - explicit values */
[data-theme="light"] .editor-wrapper,
[data-theme="light"] .editor-toolbar-container,
[data-theme="light"] .editor-content,
[data-theme="light"] .editor-content-wrapper,
[data-theme="light"] .ProseMirror,
:root .editor-wrapper,
:root .editor-toolbar-container,
:root .editor-content,
:root .editor-content-wrapper,
:root .ProseMirror {
    --theme-bg: #ffffff;
    --theme-surface: #f8f9fa;
    --theme-border: #dee2e6;
    --theme-text-primary: #212529;
    --theme-text-secondary: #6c757d;
    --theme-accent: #007bff;
    --theme-accent-contrast: #ffffff;
}

/* Dark theme values for editor - explicit values */
[data-theme="dark"] .editor-wrapper,
[data-theme="dark"] .editor-toolbar-container,
[data-theme="dark"] .editor-content,
[data-theme="dark"] .editor-content-wrapper,
[data-theme="dark"] .ProseMirror {
    --theme-bg: #1a1a1a;
    --theme-surface: #2d2d2d;
    --theme-border: #404040;
    --theme-text-primary: #e0e0e0;
    --theme-text-secondary: #a0a0a0;
    --theme-accent: #4a9eff;
    --theme-accent-contrast: #ffffff;
}

/* Ensure editor components use theme variables */
.editor-wrapper {
    background: var(--theme-bg) !important;
    color: var(--theme-text-primary) !important;
}

.editor-content-wrapper {
    background: var(--theme-bg) !important;
}

.editor-content {
    background: var(--theme-bg) !important;
    color: var(--theme-text-primary) !important;
    border-color: var(--theme-border) !important;
}

/* ProseMirror editor specific - Light theme */
[data-theme="light"] .ProseMirror,
:root .ProseMirror {
    background: #ffffff !important;
    color: #212529 !important;
}

/* ProseMirror editor specific - Dark theme */
[data-theme="dark"] .ProseMirror {
    background: #1a1a1a !important;
    color: #e0e0e0 !important;
}

/* Toolbar - Light theme */
[data-theme="light"] .editor-toolbar-container,
:root .editor-toolbar-container {
    background: #f8f9fa !important;
    border-color: #dee2e6 !important;
}

/* Toolbar - Dark theme */
[data-theme="dark"] .editor-toolbar-container {
    background: #2d2d2d !important;
    border-color: #404040 !important;
}

/* Toolbar buttons - Light theme */
[data-theme="light"] .toolbar-btn,
:root .toolbar-btn {
    color: #6c757d !important;
}

[data-theme="light"] .toolbar-btn:hover,
:root .toolbar-btn:hover {
    background: #ffffff !important;
    color: #212529 !important;
    border-color: #dee2e6 !important;
}

/* Toolbar buttons - Dark theme */
[data-theme="dark"] .toolbar-btn {
    color: #a0a0a0 !important;
}

[data-theme="dark"] .toolbar-btn:hover {
    background: #1a1a1a !important;
    color: #e0e0e0 !important;
    border-color: #404040 !important;
}

.toolbar-btn.active {
    background: var(--theme-accent) !important;
    color: var(--theme-accent-contrast) !important;
    border-color: var(--theme-accent) !important;
}

/* Editor blocks text color */
.editor-block,
.block-heading1,
.block-heading2,
.block-heading3,
.block-heading4,
.block-paragraph {
    color: var(--theme-text-primary) !important;
}

.block-quote {
    color: var(--theme-text-secondary) !important;
    border-color: var(--theme-accent) !important;
}

.list-marker {
    color: var(--theme-text-secondary) !important;
}

.block-bullet,
.block-number {
    color: var(--theme-text-primary) !important;
}

/* Floating toolbar theme support */
.floating-toolbar {
    background: var(--theme-surface) !important;
    border-color: var(--theme-border) !important;
}

.floating-toolbar button {
    color: var(--theme-text-secondary) !important;
}

.floating-toolbar button:hover {
    background: var(--theme-bg) !important;
    color: var(--theme-text-primary) !important;
}

/* Slash menu theme support */
.slash-menu-enhanced {
    background: var(--theme-surface) !important;
    border-color: var(--theme-border) !important;
}

.slash-menu-enhanced .menu-search {
    background: var(--theme-bg) !important;
    border-color: var(--theme-border) !important;
    color: var(--theme-text-primary) !important;
}

.slash-menu-enhanced .menu-item {
    color: var(--theme-text-primary) !important;
}

.slash-menu-enhanced .menu-item:hover,
.slash-menu-enhanced .menu-item.selected {
    background: var(--theme-bg) !important;
}

/* Code blocks */
.block-codeblock-wrapper {
    background: var(--theme-surface) !important;
    border-color: var(--theme-border) !important;
}

.code-header {
    background: var(--theme-bg) !important;
    border-color: var(--theme-border) !important;
}

/* Status bar */
.editor-status-bar {
    background: var(--theme-surface) !important;
    border-color: var(--theme-border) !important;
    color: var(--theme-text-secondary) !important;
}

/* Transitions for smooth theme changes */
.editor-wrapper,
.editor-content,
.editor-toolbar-container,
.toolbar-btn,
.floating-toolbar,
.slash-menu-enhanced {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease !important;
}